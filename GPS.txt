#include <TinyGPS++.h>
#include <SoftwareSerial.h>

//The pins mapping for all the modules
static const int GPSDataIn = 51;
static const int GPSDataOut = 53;
static const uint32_t GPSBaud = 9600;

//Create a TinyGPS Object
TinyGPSPlus gps;

//Serial connection to GPS Device
SoftwareSerial ss(GPSDataIn,GPSDataOut);

void setup() {
	
	//Initilization
	Serial.begin(115200);
	ss.begin(GPSBaud);
}

void loop () {

double latitude;
double longitude;
int launchSignal = 0;	
	
	//Keep checking if the launchSignal is set high, do nothing while its low.
	while(launchSignal == 0) {
		
		launchSignal = getLaunchSignal();
	
	}

	//While data is still being read
	while(ss.available > 0){
		if(gps.encode(ss.read()) {
			if(gps.location.isValid()) {
				latitude = gps.location.lat();
				longitude = gps.location.lng();
				sendData(latitude,longitude);
			}
		}	
	}
}


//Send data to the main ardunio via the TX-Module
void sendData(double in_latitude, double in_longitude) {

}

//Recieve data from the main ardunio via the RX-Module
int getLaunchSignal() {

}
